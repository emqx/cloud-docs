# 黑名单

黑名单用于禁止匹配的客户端建立连接，该功能适用于对少量客户端做限制。黑名单的管控将在有效期到期后失效。

## 添加黑名单

在控制台的左侧菜单中选择**访问控制** -> **黑名单**。点击**黑名单**页面右上角的**添加**按钮新增黑名单。在弹出的对话框中填写相关信息。

![blacklist](./_assets/blacklist_new.png)

### 黑名单类型和目标值

系统会根据以下不同类型识别被加入黑名单的客户端。根据所选的黑名单类型按要求设置目标值：

- 客户端 ID：可包含字母、数字和部分特殊字符（_、-、/、+、#、$、%、@、& 和 .），最长 128 个字符。
- 用户名 : 可包含字母、数字和部分特殊字符（_、-、/、+、#、$、%、@、& 和 .），最长 128 个字符。
- 客户端 IP ：支持 IPv4 的地址。

### 到期时间

到期时间最大值为 99 年，最小值为 5 分钟，且不能早于当前的时间点。

::: warning
EMQX 部署自带默认的 "Flapping" 保护机制。该机制旨在保护您的 Broker 免受潜在的恶意连接尝试。如果客户端在一分钟内反复重连超过 120 次，就会被自动加入黑名单。该 Clientid 将在黑名单中保留 60 分钟，在此期间特定的 Clientid 将无法重新连接到您的部署。

如果您认为这种重复行为对 MQTT 客户端来说是正常的，您可以访问"认证和访问控制"部分的"黑名单"，手动将该 Clientid 从黑名单中删除。
:::

## 删除黑名单

在黑名单列表中找到要删除的黑名单，点击操作列的**删除**图标即可删除。
