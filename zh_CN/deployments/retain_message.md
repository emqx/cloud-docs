# 保留消息

当用户发布了一条保留消息时，部署会将这条消息保存在系统中，用户可以在当前保留消息列表页面查看到这条消息。当用户订阅了这条保留消息的主题时，部署会将这条消息发送给用户。保留消息的有效期默认为永不过期，除非用户手动删除这条消息。

点击左侧导航菜单中的**监控** -> **保留消息**，可以进入保留消息页面。在该页面可以查看当前系统中所有的保留消息。


## 保留消息列表
保留消息列表呈现当前系统中所有的保留消息。列表内包含了保留消息的主题、保留消息的质量等级 QoS、发布保留消息的时间、还有发布该保留消息的客户端 ID。

点击列表右上角的刷新按钮可以刷新当前保留消息列表。

![retain](./_assets/retain_msg.png)

## 搜索保留消息

当列表中有大量保留消息时，您可以通过主题筛选保留消息，以显示您想要查看的保留消息。您可以在搜索框中输入特定的主题名称，或使用通配符进行搜索。

::: tip 提示

Serverless 部署不支持搜索功能。 

:::

### 查看 Payload

您可以查看保留消息的 payload。在列表中，点击保留消息条目**操作**列中的查看 payload 图标，即可查看消息 payload。

在**查看 Payload** 弹出窗口中，您可以查看保留消息 payload 的具体内容。您可以点击复制按钮快速复制 payload。在下拉框中，您还可以选择 payload 的格式化输出，这样可以更直观地查看一些特殊的 payload 格式，例如 JSON 或 Hex 格式。

<img src="./_assets/retain_payload.png" alt="retain" style="zoom:67%;" />

### 删除保留消息

您可以通过以下方式删除保留消息：

1. 在保留消息的主题上发布一条空消息。

2. 点击**操作**列中的删除图标，删除单条保留消息条目。

3. 点击右上角的删除图标，删除列表中的所有保留消息。

   ::: tip 提示

   Serverless 部署不支持删除所有保留消息的功能。 

   :::

::: tip
关于保留消息的大小及存储条目限制，请查看[配额和限制](../create/restriction.md)。
:::

